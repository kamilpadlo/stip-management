<div class="container">
  <div class="table-container" style="overflow-y: auto">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 demo-table"
    >
      <!-- Position Column -->
      <ng-container matColumnDef="demo-id">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let employee">{{ employee.id }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="demo-name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let employee">{{ employee.name }}</td>
      </ng-container>

      <!-- Surname Column -->
      <ng-container matColumnDef="demo-surname">
        <th mat-header-cell *matHeaderCellDef>Surname</th>
        <td mat-cell *matCellDef="let employee">{{ employee.surname }}</td>
      </ng-container>

      <!-- Profession Column -->
      <ng-container matColumnDef="demo-profession">
        <th mat-header-cell *matHeaderCellDef>Profession</th>
        <td mat-cell *matCellDef="let employee">{{ employee.profession }}</td>
      </ng-container>

      <ng-container matColumnDef="demo-details">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef>
          <div class="view-details">
            <button mat-raised-button color="warn">
              View Details <mat-icon>keyboard_arrow_down</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        (click)="getRowObject(row)"
        *matRowDef="let row; columns: displayedColumns"
      ></tr>
    </table>
  </div>
  <div class="main-container">
    <button
      (click)="popupAddEmployeeActive = !popupAddEmployeeActive"
      mat-raised-button
      color="primary"
    >
      Add New Employee
    </button>

    <!-- //todo Make some proper validation -->
    <mat-card *ngIf="popupAddEmployeeActive" class="card-popup-small">
      <div class="card-title-wrapper">
        <mat-card-title style="width: 50%">ADD NEW EMPLOYEE </mat-card-title>
        <div class="spacer" style="width: 100%"></div>
        <mat-icon (click)="popupAddEmployeeActive = false" class="close"
          >close</mat-icon
        >
      </div>

      <mat-card-actions>
        <div class="form">
          <mat-form-field appearance="fill">
            <mat-label>Name</mat-label>
            <input [(ngModel)]="employeeName" matInput #input />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Surame</mat-label>
            <input [(ngModel)]="employeeSurname" matInput #input />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Profession</mat-label>
            <mat-select [(ngModel)]="employeeProfession">
              <mat-option value="magazynier">magazynier</mat-option>
              <mat-option value="zaopatrzeniowiec">zaopatrzeniowiec</mat-option>
              <mat-option value="piekarz">piekarz</mat-option>
              <mat-option value="murarz">murarz</mat-option>
              <mat-option value="no data"></mat-option>
            </mat-select>
          </mat-form-field>
          <button
            (click)="addNewEmployee()"
            type="submit"
            mat-raised-button
            color="primary"
          >
            Add Employee
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>

  <!--  Card popup  -->

  <app-user-details
    [counter]="counter"
    [dataSource]="dataSource"
    [Crew]="Crew"
    [popupActive]="popupActive"
    [changeNettoActive]="changeNettoActive"
    [changeNormalHoursActive]="changeNormalHoursActive"
    [changeWeekendHoursActive]="changeWeekendHoursActive"
    [ownHouseActive]="ownHouseActive"
    [changeQuaterBonusActive]="changeQuaterBonusActive"
    [changeSicknessBenefitActive]="changeSicknessBenefitActive"
    [carDeductionActive]="carDeductionActive"
    [trainingDeductionActive]="trainingDeductionActive"
    [id]="id"
    [name]="name"
    [surname]="surname"
    [profession]="profession"
    [netRate]="netRate"
    [normalHours]="normalHours"
    [weekendHours]="weekendHours"
    [salaryNormalHours]="salaryNormalHours"
    [salaryWeekendHours]="salaryWeekendHours"
    [additionOwnHouse]="additionOwnHouse"
    [additionQuaterBonus]="additionQuaterBonus"
    [additionSicknessBenefit]="additionSicknessBenefit"
    [deductionCar]="deductionCar"
    [deductionTraining]="deductionTraining"
    [totalHours]="totalHours"
    [totalSalary]="totalSalary"
    [totalAdditions]="totalAdditions"
    [totalDeductions]="totalDeductions"
    [totalPay]="totalPay"
    [buttonConfirm]="buttonConfirm"
    (outputNetRateModel)="receiveNetRateModel($event)"
    (outputNormalHoursModel)="receiveNormalHoursModel($event)"
    (outputWeekendHoursModel)="receiveWeekendHoursModel($event)"
    (outputChangeBonusOwnHouseModel)="receiveChangeBonusOwnHouseModel($event)"
    (outputChangeBonusQuaterBonusModel)="
      receiveChangeBonusQuaterBonusModel($event)
    "
    (outputChangeBonusSicknessBenefitModel)="
      receiveChangeBonusSicknessBenefitModel($event)
    "
    (outputDeductionForCarModel)="receiveDeductionForCarModel($event)"
    (outputDeductionForTrainingModel)="receiveDeductionForTrainingModel($event)"
    (outputPopupActive)="receivePopupActive($event)"
    (outputNormalHours)="receiveNormalHours($event)"
    (outputWeekendHours)="receiveWeekendHours($event)"
    (outputSalaryNormalHours)="receiveSalaryNormalHours($event)"
    (outputSalaryWeekendHours)="receiveSalaryWeekendHours($event)"
    (outputAdditionOwnHouse)="receiveAdditionOwnHouse($event)"
    (outputAdditionQuaterBonus)="receiveAdditionQuaterBonus($event)"
    (outputAdditionSicknessBenefit)="receiveAdditionSicknessBenefit($event)"
    (outputDeductionCar)="receiveDeductionCar($event)"
    (outputDeductionTraining)="receiveDeductionTraining($event)"
    (outputTotalHours)="receiveTotalHours($event)"
    (outputTotalSalary)="receiveTotalSalary($event)"
    (outputTotalAdditions)="receiveTotalAdditions($event)"
    (outputTotalDeductions)="receiveTotalDeductions($event)"
    (outputTotalPay)="receiveTotalPay($event)"
    (outputNetRate)="receiveNetRate($event)"
  ></app-user-details>
</div>
