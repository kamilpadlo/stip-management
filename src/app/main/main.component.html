<div class="container">
  <div class="table-container" style="overflow-y: auto">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 demo-table"
    >
      <!-- Position Column -->
      <ng-container matColumnDef="demo-id">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let employee">{{ employee.id }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="demo-name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let employee">{{ employee.name }}</td>
      </ng-container>

      <!-- Surname Column -->
      <ng-container matColumnDef="demo-surname">
        <th mat-header-cell *matHeaderCellDef>Surname</th>
        <td mat-cell *matCellDef="let employee">{{ employee.surname }}</td>
      </ng-container>

      <!-- Profession Column -->
      <ng-container matColumnDef="demo-profession">
        <th mat-header-cell *matHeaderCellDef>Profession</th>
        <td mat-cell *matCellDef="let employee">{{ employee.profession }}</td>
      </ng-container>

      <ng-container matColumnDef="demo-details">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef>
          <div class="view-details">
            <button mat-raised-button color="warn">
              View Details <mat-icon>keyboard_arrow_down</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        (click)="getRowObject(row)"
        *matRowDef="let row; columns: displayedColumns"
      ></tr>
    </table>
  </div>
  <div class="main-container">
    <button
      (click)="popupAddEmployeeActive = !popupAddEmployeeActive"
      mat-raised-button
      color="primary"
    >
      Add New Employee
    </button>

    <mat-card *ngIf="popupAddEmployeeActive" class="card-popup-small">
      <div class="card-title-wrapper">
        <mat-card-title style="width: 50%">ADD NEW EMPLOYEE </mat-card-title>
        <div class="spacer" style="width: 100%"></div>
        <mat-icon (click)="popupAddEmployeeActive = false" class="close"
          >close</mat-icon
        >
      </div>

      <mat-card-actions>
        <div class="form">
          <mat-form-field appearance="fill">
            <mat-label>Name</mat-label>
            <input [(ngModel)]="employeeName" matInput #input />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Surame</mat-label>
            <input [(ngModel)]="employeeSurname" matInput #input />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Profession</mat-label>
            <mat-select [(ngModel)]="employeeProfession">
              <mat-option value="magazynier">magazynier</mat-option>
              <mat-option value="zaopatrzeniowiec">zaopatrzeniowiec</mat-option>
              <mat-option value="piekarz">piekarz</mat-option>
              <mat-option value="murarz">murarz</mat-option>
              <mat-option value="no data"></mat-option>
            </mat-select>
          </mat-form-field>
          <button
            (click)="addNewEmployee()"
            type="submit"
            mat-raised-button
            color="primary"
          >
            Add Employee
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>

  <!--  Card popup  -->

  <app-user-details
    [currentEmployee]="currentEmployee"
    [popupActive]="popupActive"
    (outputPopupActive)="receivePopupActive($event)"
  ></app-user-details>
</div>
